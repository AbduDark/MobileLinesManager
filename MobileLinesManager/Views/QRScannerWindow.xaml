
<Window x:Class="MobileLinesManager.Views.QRScannerWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="Ù…Ø§Ø³Ø­ QR - Ø§Ù„Ù…Ø³Ø­ Ù…Ù† Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§" 
        Height="600" 
        Width="800"
        WindowStartupLocation="CenterScreen"
        FlowDirection="RightToLeft"
        Background="#F5F5F5">
    
    <Window.Resources>
        <Style TargetType="Button" x:Key="PrimaryButton">
            <Setter Property="Background" Value="#2196F3"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Padding" Value="15,8"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="4"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" 
                                            VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#1976D2"/>
                </Trigger>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter Property="Background" Value="#BDBDBD"/>
                    <Setter Property="Cursor" Value="Arrow"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style TargetType="Button" x:Key="SecondaryButton" BasedOn="{StaticResource PrimaryButton}">
            <Setter Property="Background" Value="#757575"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#616161"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <TextBlock Grid.Row="0" 
                   Text="Ù…Ø³Ø­ QR Ù…Ù† Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§"
                   FontSize="24"
                   FontWeight="Bold"
                   Margin="0,0,0,20"
                   Foreground="#333"/>

        <!-- Camera Preview Area -->
        <Border Grid.Row="1" 
                Background="White"
                BorderBrush="#E0E0E0"
                BorderThickness="2"
                CornerRadius="8"
                Margin="0,0,0,20">
            <Grid>
                <!-- Image display for camera feed -->
                <Image x:Name="CameraImage" 
                       Stretch="Uniform"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center"/>
                
                <!-- Placeholder when camera is not active -->
                <StackPanel x:Name="PlaceholderPanel"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center">
                    <TextBlock Text="ðŸ“·" 
                              FontSize="72"
                              HorizontalAlignment="Center"
                              Foreground="#BDBDBD"/>
                    <TextBlock Text="Ø¬Ø§Ù‡Ø² Ù„Ù…Ø³Ø­ QR"
                              FontSize="18"
                              Foreground="#757575"
                              HorizontalAlignment="Center"
                              Margin="0,10,0,0"/>
                    <TextBlock Text="Ø§Ø¶ØºØ· 'Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø³Ø­' Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§"
                              FontSize="14"
                              Foreground="#9E9E9E"
                              HorizontalAlignment="Center"
                              Margin="0,5,0,0"/>
                </StackPanel>

                <!-- Status overlay -->
                <Border x:Name="StatusOverlay"
                       Background="#DD4CAF50"
                       VerticalAlignment="Top"
                       HorizontalAlignment="Center"
                       Padding="20,10"
                       CornerRadius="4"
                       Margin="0,20,0,0"
                       Visibility="Collapsed">
                    <TextBlock x:Name="StatusText"
                              Text="âœ“ ØªÙ… Ø§Ù„Ù…Ø³Ø­ Ø¨Ù†Ø¬Ø§Ø­!"
                              FontSize="16"
                              FontWeight="Bold"
                              Foreground="White"/>
                </Border>
            </Grid>
        </Border>

        <!-- Scanned Data Display -->
        <Border Grid.Row="2"
                Background="White"
                BorderBrush="#E0E0E0"
                BorderThickness="1"
                CornerRadius="4"
                Padding="15"
                Margin="0,0,0,20"
                x:Name="DataPanel"
                Visibility="Collapsed">
            <StackPanel>
                <TextBlock Text="Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù…Ø³ÙˆØ­Ø©:"
                          FontWeight="Bold"
                          FontSize="14"
                          Margin="0,0,0,10"
                          Foreground="#333"/>
                
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" Grid.Column="0" Text="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ:" Margin="0,0,10,5" FontWeight="SemiBold"/>
                    <TextBlock Grid.Row="0" Grid.Column="1" x:Name="PhoneNumberText" Margin="0,0,0,5"/>

                    <TextBlock Grid.Row="1" Grid.Column="0" Text="Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ØªØ³Ù„Ø³Ù„ÙŠ:" Margin="0,0,10,5" FontWeight="SemiBold"/>
                    <TextBlock Grid.Row="1" Grid.Column="1" x:Name="SerialNumberText" Margin="0,0,0,5"/>

                    <TextBlock Grid.Row="2" Grid.Column="0" Text="Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ù…Ø±ØªØ¨Ø·:" Margin="0,0,10,5" FontWeight="SemiBold"/>
                    <TextBlock Grid.Row="2" Grid.Column="1" x:Name="AssociatedNameText" Margin="0,0,0,5"/>

                    <TextBlock Grid.Row="3" Grid.Column="0" Text="Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù‚ÙˆÙ…ÙŠ:" Margin="0,0,10,5" FontWeight="SemiBold"/>
                    <TextBlock Grid.Row="3" Grid.Column="1" x:Name="NationalIdText" Margin="0,0,0,5"/>

                    <TextBlock Grid.Row="4" Grid.Column="0" Text="Ù…Ø­ÙØ¸Ø© Ø§Ù„ÙƒØ§Ø´:" Margin="0,0,10,5" FontWeight="SemiBold"/>
                    <TextBlock Grid.Row="4" Grid.Column="1" x:Name="CashWalletText" Margin="0,0,0,5"/>

                    <TextBlock Grid.Row="5" Grid.Column="0" Text="Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©:" Margin="0,0,10,5" FontWeight="SemiBold"/>
                    <TextBlock Grid.Row="5" Grid.Column="1" x:Name="GroupIdText" Margin="0,0,0,5"/>
                </Grid>
            </StackPanel>
        </Border>

        <!-- Action Buttons -->
        <StackPanel Grid.Row="3" 
                    Orientation="Horizontal" 
                    HorizontalAlignment="Center">
            <Button x:Name="StartScanButton"
                    Content="Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø³Ø­"
                    Style="{StaticResource PrimaryButton}"
                    Click="StartScanButton_Click"
                    MinWidth="120"
                    Margin="5"/>
            
            <Button x:Name="StopScanButton"
                    Content="Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù…Ø³Ø­"
                    Style="{StaticResource SecondaryButton}"
                    Click="StopScanButton_Click"
                    MinWidth="120"
                    Margin="5"
                    IsEnabled="False"/>
            
            <Button x:Name="SaveButton"
                    Content="Ø­ÙØ¸ Ø§Ù„Ø®Ø·"
                    Style="{StaticResource PrimaryButton}"
                    Click="SaveButton_Click"
                    MinWidth="120"
                    Margin="5"
                    IsEnabled="False"/>
            
            <Button Content="Ø¥Ù„ØºØ§Ø¡"
                    Style="{StaticResource SecondaryButton}"
                    Click="CancelButton_Click"
                    MinWidth="120"
                    Margin="5"/>
        </StackPanel>
    </Grid>
</Window>
